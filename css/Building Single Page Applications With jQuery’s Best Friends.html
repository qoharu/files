<!DOCTYPE html>
<!-- saved from url=(0062)http://addyosmani.com/blog/building-spas-jquerys-best-friends/ -->
<html xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://www.facebook.com/2008/fbml" lang="en-US"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="theme-color" content="#000000"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>Building Single Page Applications With jQuery’s Best Friends</title><link rel="profile" href="http://gmpg.org/xfn/11"><link rel="stylesheet" type="text/css" media="screen" href="./Building Single Page Applications With jQuery’s Best Friends_files/style.css"><link rel="stylesheet" type="text/css" media="print" href="./Building Single Page Applications With jQuery’s Best Friends_files/print.css"><link rel="apple-touch-icon" sizes="57x57" href="http://addyosmani.com/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="114x114" href="http://addyosmani.com/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="72x72" href="http://addyosmani.com/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="144x144" href="http://addyosmani.com/apple-touch-icon-144x144.png"><link rel="apple-touch-icon" sizes="60x60" href="http://addyosmani.com/apple-touch-icon-60x60.png"><link rel="apple-touch-icon" sizes="120x120" href="http://addyosmani.com/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="76x76" href="http://addyosmani.com/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="152x152" href="http://addyosmani.com/apple-touch-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="http://addyosmani.com/apple-touch-icon-180x180.png"><link rel="icon" type="image/png" href="http://addyosmani.com/favicon-192x192.png" sizes="192x192"><link rel="icon" type="image/png" href="http://addyosmani.com/favicon-160x160.png" sizes="160x160"><link rel="icon" type="image/png" href="http://addyosmani.com/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/png" href="http://addyosmani.com/favicon-16x16.png" sizes="16x16"><link rel="icon" type="image/png" href="http://addyosmani.com/favicon-32x32.png" sizes="32x32"><meta name="msapplication-TileColor" content="#2b5797"><meta name="msapplication-TileImage" content="http://addyosmani.com/mstile-144x144.png"><link rel="pingback" href="http://addyosmani.com/blog/xmlrpc.php"> <!--[if lt IE 9]> <script src="http://addyosmani.com/blog/wp-content/themes/ao4/js/html5.js" type="text/javascript"></script> <![endif]--><link rel="alternate" type="application/rss+xml" title="Addy Osmani » Feed" href="http://addyosmani.com/blog/feed/"><link rel="alternate" type="application/rss+xml" title="Addy Osmani » Comments Feed" href="http://addyosmani.com/blog/comments/feed/"><link rel="alternate" type="application/rss+xml" title="Addy Osmani » Building Single Page Applications With jQuery’s Best Friends Comments Feed" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/feed/"><link rel="stylesheet" id="wp-syntax-css-css" href="./Building Single Page Applications With jQuery’s Best Friends_files/wp-syntax.css" type="text/css" media="all"><link rel="stylesheet" id="wp-markdown-prettify-css" href="./Building Single Page Applications With jQuery’s Best Friends_files/prettify.css" type="text/css" media="all"><link rel="stylesheet" id="pre-tag-css" href="./Building Single Page Applications With jQuery’s Best Friends_files/pre.css" type="text/css" media="all"><link rel="stylesheet" id="core3.0-css" href="./Building Single Page Applications With jQuery’s Best Friends_files/shCore.css" type="text/css" media="all"><link rel="stylesheet" id="core-Eclipse3.0-css" href="./Building Single Page Applications With jQuery’s Best Friends_files/shCoreEclipse.css" type="text/css" media="all"><link rel="stylesheet" id="theme-Eclipse3.0-css" href="./Building Single Page Applications With jQuery’s Best Friends_files/shThemeEclipse.css" type="text/css" media="all"><link rel="stylesheet" id="wp-pagenavi-css" href="./Building Single Page Applications With jQuery’s Best Friends_files/pagenavi-css.css" type="text/css" media="all"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://addyosmani.com/blog/xmlrpc.php?rsd"><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://addyosmani.com/blog/wp-includes/wlwmanifest.xml"><link rel="prev" title="Book Corner: A Review Of Smashing jQuery" href="http://addyosmani.com/blog/bookcorner-smashingjquery/"><link rel="next" title="Digging into Deferreds with jQuery: Promises" href="http://addyosmani.com/blog/digging-into-deferreds-1/"><meta name="generator" content="WordPress 3.9.3"><link rel="shortlink" href="http://wp.me/pE25e-FM"><meta property="og:site_name" content="Addy Osmani"><meta property="og:url" content="http://addyosmani.com/blog/building-spas-jquerys-best-friends/"><meta property="og:title" content="Building Single Page Applications With jQuery&#39;s Best Friends"><meta name="description" itemprop="description" content="Hey guys. Today we&#39;re going to take a look at how you can build a single-page application (SPA) supporting graceful degradation using some of jQuery&#39;s Best"><link rel="canonical" href="./Building Single Page Applications With jQuery’s Best Friends_files/Building Single Page Applications With jQuery’s Best Friends.html"><link rel="stylesheet" href="http://addyosmani.com/blog/wp-content/cache/autoptimize/css/autoptimize_e9ddd0efe338ebaa746338d359ca2d86.css" media="all"><script src="./Building Single Page Applications With jQuery’s Best Friends_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./Building Single Page Applications With jQuery’s Best Friends_files/ga.js"></script><script id="_carbonads_projs" type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/C6AILKT.json"></script><style id="_legacy_carbonads_css">.one{position:relative}.one .bsa_it_ad{display:block;padding:15px;border:1px solid #e1e1e1;background:#f9f9f9;font-family:helvetica,arial,sans-serif;line-height:100%;position:relative}.one .bsa_it_ad a{text-decoration:none}.one .bsa_it_ad a:hover{text-decoration:none}.one .bsa_it_ad .bsa_it_t{display:block;font-size:12px;font-weight:bold;color:#212121;line-height:125%;padding:0 0 5px 0}.one .bsa_it_ad .bsa_it_d{display:block;color:#434343;font-size:12px;line-height:135%}.one .bsa_it_ad .bsa_it_i{float:left;margin:0 15px 10px 0}body .one .bsa_it_p{text-align:center;display:block !important}.one .bsa_it_p a{font-size:10px;color:#666;text-decoration:none}.one .bsa_it_ad .bsa_it_p a:hover{font-style:italic}</style><script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/saved_resource"></script></head><body class="single single-post postid-2590 single-format-standard two-column content-sidebar" data-twttr-rendered="true"> <header id="header"><div id="branding" class="clearfix"> <hgroup id="site-title"> <a href="http://addyosmani.com/blog/" class="logo"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/addy-dev.svg" alt="Addy Osmani" title="Addy Osmani"> </a> </hgroup></div> </header><div id="page" class="clearfix"><div id="main" class="clearfix"><div id="content"> <article id="post-2590" class="post-2590 post type-post status-publish format-standard hentry category-web-development tag-backbonejs tag-jquery tag-jquery-templating tag-jquerys-best-friends tag-single-page-app tag-single-page-applications tag-spa tag-tmpl tag-underscore"><div class="entry-wrap"><div class="post-type"> <a href="./Building Single Page Applications With jQuery’s Best Friends_files/Building Single Page Applications With jQuery’s Best Friends.html" class="post-format"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/format-standard.png" alt="permalink" title="Permalink"></a><p class="post-comments"><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#comments" class="comments-link" title="Comment on Building Single Page Applications With jQuery’s Best Friends">109</a></p></div> <header class="entry-header"><h1 class="entry-title"><a href="./Building Single Page Applications With jQuery’s Best Friends_files/Building Single Page Applications With jQuery’s Best Friends.html" title="Permalink to Building Single Page Applications With jQuery’s Best Friends" rel="bookmark">Building Single Page Applications With jQuery’s Best Friends</a></h1><div class="sharebar"><div class="shareright"><div class="topsy_widget_data" id="topsy_id0-0-3-0-0-3-12-1"> <iframe src="./Building Single Page Applications With jQuery’s Best Friends_files/tweet_button.html" allowtransparency="true" frameborder="0" scrolling="no" class="twitter-share-button twitter-count-horizontal" style="width: 110px; height: 20px; " title="Twitter Tweet Button"></iframe></div></div><div class="shareleft"></div> </div></header><div class="entry-content"><p style="text-align: center;"><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends"><img border="0" src="./Building Single Page Applications With jQuery’s Best Friends_files/singlepage.jpg" alt=""></a></p><p>Hey guys. Today we’re going to take a look at how you can build a single-page application (SPA) supporting graceful degradation using some of jQuery’s Best friends; DocumentCloud’s Backbone.js, Underscore.js, LAB.js and jQuery templating to name but a few.</p><p>Alex Sexton has been giving a <a href="http://jquerysbestfriends.com/">great presentation</a> highlighting these tools in few recent conferences and I thought it would be useful to write up a tutorial to compliment their use.</p><p><span id="more-2590"></span></p><p>The SPA application we’ll be building today is a three-level bookmarkable image gallery. Before we get started, please feel free to check out the demo below or download the sources for the tutorial.</p><div style="width: 500px; text-align: center; margin-left: 40px;"><a href="http://addyosmani.com/resources/backbonegallery/index.php" style="margin-left: 30px; text-align: center; width: 140px; color: white; float: left;" class="large blue awesome tipper" target="_blank">View Demo</a> <a href="https://github.com/addyosmani/backbonejs-gallery/zipball/master" style="margin-left: 20px; text-align: center; width: 160px; color: white; float: left;" class="large blue awesome tipper" target="_blank">Download Sources</a></div><p>&nbsp;</p><p>&nbsp;</p><p style="text-align: center;"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/screenshot5.jpg" alt=""></p><h2>Tools Used For Today’s Tutorial</h2><p>&nbsp;</p><ul><li><a href="http://documentcloud.github.com/backbone/">Backbone.js</a></li><li><a href="http://documentcloud.github.com/underscore/">Underscore.js</a></li><li><a href="https://github.com/jquery/jquery-tmpl">jQuery Templating</a></li><li><a href="http://labjs.com/">LAB.js Script loader</a></li><li><a href="http://www.dustindiaz.com/javascript-cache-provider/">Dustin Diaz’s CacheProvider</a></li><li><a href="http://code.google.com/p/jsdoc-toolkit/">JSDoc Toolkit</a></li></ul><h2>What’s A Single-Page Application (SPA)?</h2><p>&nbsp;</p><p>SPAs are web applications or websites which persistently run in the same page without requiring a reload for further navigation. All of the code needed for your initial load in these applications is driven by either local data or data retrieved from a web server on demand, such as any additional data required from your app that might be driven by user actions.</p><p>The basic idea behind an SPA is that regardless of what interactions your users might have with the application, the page doesn’t get reloaded or have it’s control handled by another page outside of the current one.</p><p>&nbsp;</p><h2>Why Might SPAs Can Be Better Than Multi-Page Applications?</h2><p>&nbsp;</p><p>SPAs typically contrast from classical multi-page web applications where page changes are regular and the browser is often asked to fetch new content from the server and then reload to fulfil user requests.</p><p>The problem with the classical approach is that it has a way of disrupting the user experience quite badly. There’s an obvious transition from one page to the next which requires you to wait until entire new pages have loaded and this often means requesting the same content again and again (eg. the sidebars, header, navigation etc). With an SPA on the other hand, changes of application ‘state’ are handled using approaches such as XHR calls, making the user experience a lot more fluid.</p><p>In a server-side web application (without any client-side JavaScript) one can consider the idea of state sequence to be equivalent to the concept of pages. A partial change in an SPA (such as displaying a contact form) implies a change of state in the same way a change of navigation in a server-side app results in a change of page.</p><p>&nbsp;</p><h2>How Will Today’s App Approach SEO, Hash Routing and Graceful Degradation?</h2><p>&nbsp;</p><p>In today’s tutorial, we’ll be leveraging the jQuery templating plugin to handle rendering our Backbone views and using hash-based routing for the URLs.</p><p>Normally, without any additional work done, this would simply result in a blank page being visible to both search bots (other than Google) and users with JavaScript switched off.</p><p>So, how do we handle SEO when bots don’t correctly follow JavaScript-powered routes? How do we also provide an experience for users with JavaScript completely disabled?. In my opinion the solution to hash-bang/based URLs and graceful degradation lie in the same basket.</p><p>A degraded experience should still allow users to perform most of the basic content-browsing tasks and the URLs this content exposes through links can be used for your SEO with standard parameter-based queries (ie. JavaScript routing may look like #/books/12345, Degraded URLs can look like /?category=books&amp;bookID=12345).</p><p>You can then simply ‘connect’ these two schemas using server-side redirect logic should you need to have a greater level of control over what users are taken to.</p><p>In the gallery app, I’ve added in a PHP fallback for bots and NoJS which simply reads in my JSON datastore and provides users with similar album/subalbum/image views (with meta-data). This allows me to be free to use whatever client-side templating solutions I need without worrying about JavaScript being disabled.</p><p>&nbsp;</p><h2>Backbone.js and Underscore.js</h2><p style="text-align: center;"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/addyosmani_backbone.jpg" alt=""></p><p>&nbsp;</p><p>In case you haven’t used DocumentCloud’s Backbone.js before, it’s a small open-source library that helps bring a variation of the <a href="http://en.wikipedia.org/wiki/Model%E2%80%93View%E2%80%93Controller">MVC</a> (Model-View-Controller) architecure pattern to your applications – I say ‘variation’ as Backbone also relies on the idea of Collections in addition to models, views and controllers.</p><p>One of the reasons I love Backbone is that it helps give you a structure for your code where you don’t have to tie data so heavily to the DOM. Another useful feature is that when your Backbone models change, the views representing the underlying data can be notified, causing them to re-render.</p><p>When writing Backbone apps, extending Backbone.Model allows you to define a model with your own properties and methods whilst the framework makes it easy to get and set attributes, validations and serialize the object. Backbone proxies to the Underscore library for handling it’s collections of models.</p><p>So..what’s Underscore? Well, it’s basically a utility-belt library that provides a lot of the functional support that you would expect in something like Ruby, but without extending any of the built-in JavaScript objects. (Some call it the tie that goes along with jQuery’s tux), but really, it just gives you some useful functions you might normally be adding to your own utils.js file anyway like each, map,  isEmpty, isElement and more.</p><p>Going back to Backbone, views can be created by extending Backbone.view and passing in options, models, collections etc. You can also specify a render function on the view to set it up with templating (in today’s tutorial we’ll be using the jQuery templating plugin for this).</p><p>I’ll be going over Backbone in more detail shortly.</p><p>&nbsp;</p><h2>Client-Side Templating With The jQuery Templating Plugin</h2><p>&nbsp;</p><p>As mentioned, we’re also going to be using the <a href="https://github.com/jquery/jquery-tmpl">jQuery templating plugin</a> to render our Backbone views today. It basically allows you to create simple client-side templates that are easily re-usable where templates are written in HTML with template tags whilst jQuery code is used for performing the actual data population. A very simple example of how to use the plugin can be found below:</p><div><div id="highlighter_962269" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">albums = [</code></div><div class="line number2 index1 alt1"><code class="javascript plain">{ Title: </code><code class="javascript string">"My Vacation In Malibu"</code><code class="javascript plain">, AlbumYear: </code><code class="javascript string">"1993"</code> <code class="javascript plain">},</code></div><div class="line number3 index2 alt2"><code class="javascript plain">{ Title: </code><code class="javascript string">"A Trip To The Sea-side"</code><code class="javascript plain">, AlbumYear: </code><code class="javascript string">"1992"</code> <code class="javascript plain">}</code></div><div class="line number4 index3 alt1"><code class="javascript plain">];</code></div><div class="line number5 index4 alt2"><code class="javascript comments">//define the markup for our template</code></div><div class="line number6 index5 alt1"><code class="javascript keyword">var</code> <code class="javascript plain">template_markup = </code><code class="javascript string">"&lt;ul&gt;&lt;li&gt;&lt;b&gt;${Title}&lt;/b&gt; (${AlbumYear})&lt;/li&gt;&lt;/ul&gt;"</code><code class="javascript plain">;</code></div><div class="line number7 index6 alt2"><code class="javascript comments">//compile our markup above as a template called</code></div><div class="line number8 index7 alt1"><code class="javascript comments">//'albumTemplate'</code></div><div class="line number9 index8 alt2"><code class="javascript plain">$.template( </code><code class="javascript string">"albumTemplate"</code><code class="javascript plain">, template_markup );</code></div><div class="line number10 index9 alt1"><code class="javascript comments">//render the template using 'albums' as our data</code></div><div class="line number11 index10 alt2"><code class="javascript comments">//source then insert the HTML thats rendered under</code></div><div class="line number12 index11 alt1"><code class="javascript comments">//the albumList element</code></div><div class="line number13 index12 alt2"><code class="javascript plain">$.tmpl( </code><code class="javascript string">"albumTemplate"</code><code class="javascript plain">, albums )</code></div><div class="line number14 index13 alt1"><code class="javascript plain">.appendTo( </code><code class="javascript string">"#albumList"</code> <code class="javascript plain">);</code></div></div></td></tr></tbody></table></div></div><div><div id="highlighter_747955" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript plain">&lt;ul id=</code><code class="javascript string">"albumList"</code><code class="javascript plain">&gt;&lt;/ul&gt;</code></div></div></td></tr></tbody></table></div></div><p>The <a href="http://api.jquery.com/jquery.tmpl/">official documentation</a> on the jQuery templating plugin is an excellent place to find more examples if you haven’t used it before.</p><p>When it comes to getting templates working with Backbone, this process is very straight-forward. All we need to do is add our template-handling to a view’s render() function based on a template defined in our app’s markup and then append it to our SPA’s main container as needed. This is a little different to how one might use the templating plugin on it’s own, but as you’ll see in the tutorial we’re still going to using $.tmpl for it’s rendering capabilities.</p><p>&nbsp;</p><h2>LAB.js Asynchronous Script Loading</h2><p>&nbsp;</p><p>Kyle Simpson’s LABjs (Loading And Blocking JavaScript) is a great general purpose script loader which allows you to load scripts in parallel as the browser allows. It also maintains the execution order required when you express the need for keeping dependencies safe, which can be done by inserting .wait() in your chain. In the below example, we wait for jQuery to execute before loading any additional dependancies or plugins and finally wait for those to execute before loading our main application.</p><div><div id="highlighter_899195" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript plain">$LAB</code></div><div class="line number2 index1 alt1"><code class="javascript plain">.script(</code><code class="javascript string">"jquery.js"</code><code class="javascript plain">).wait()</code></div><div class="line number3 index2 alt2"><code class="javascript plain">.script(</code><code class="javascript string">"another.dependency.js"</code><code class="javascript plain">)</code></div><div class="line number4 index3 alt1"><code class="javascript plain">.script(</code><code class="javascript string">"relies.onabove.dependency.js"</code><code class="javascript plain">).wait()</code></div><div class="line number5 index4 alt2"><code class="javascript plain">.script(</code><code class="javascript string">"app.js"</code><code class="javascript plain">);</code></div></div></td></tr></tbody></table></div></div><p>There are a lot of great script loaders out there at the moment (including RequireJS) but because the code for today’s app doesn’t really require modules (and LAB.js has a very small footprint) it made sense to select it for our use-case. You can take a look at some more LAB.js examples over at it’s main <a href="http://labjs.com/documentation.php">documentation</a> page.</p><pre class="prettyprint prettyprinted"><span class="pln">&nbsp;</span></pre><pre class="prettyprint prettyprinted"><span class="pln">&nbsp;</span></pre><h2>Today’s Single-Page MVC Gallery Application</h2><h3><strong>Introduction</strong></h3><p>In today’s tutorial we’re going to build a three-level, fully bookmarkable image gallery that supports custom views for albums, subalbums and individual photos.</p><p>Backbone will be used to provide a taste of MVC architecture to the app, Underscore for it’s utility functions, LAB.js for asynchronous script loading and the jQuery templating plugin will be used to render our client-side views.</p><p>Data caching is something that can often be ignored in tutorials about client-side app development, so I’m also going to introduce you to Dustin Diaz (Twitter)’s CacheProvider which allows you to cache data both in memory and using localStorage if it’s available.</p><p>As I also covered, we’ll be including some graceful degradation in today’s application as well so that even if JavaScript is turned off, you should still be able to browse the photos in their normal hierarchy.</p><p>&nbsp;</p><h3><strong>Application Structure</strong></h3><p>Diving right in, let’s first define the structure of our application. The idea behind using Backbone is that it allows you organize your interface into logical views, backed by models, each of which can be updated independently when the model changes, without having to redraw the page.</p><p>Models defined using Backbone.Model contain the interactive data and logic around the information being used in our application. For the gallery app, we’re going to define a simple model called <strong>‘Photo’</strong> to represent the data around image entries.</p><p>Backbone.Collection allows you to define ordered sets of models which can bind ‘change’ events to be notified when models in a collection are modified. We’re going to create a collection called <strong>‘PhotoCollection’</strong> to represent collections of <strong>‘Photo’</strong>s.</p><p>Our application views can be defined through Backbone.View. Views don’t actually have anything to do with HTML, but they’re more a convenience concept that support a number of client-side templating solutions.</p><p>Views save you having to dig through JSON, do DOM lookups and update your HTML manually by binding a view’s render function to a model’s ‘change’ event – this way anywhere a model’s data is shown in your UI, it’s always up to date. In our app we’ll be creating an <strong>IndexView, SubalbumView </strong>and <strong>PhotoView</strong> to reprepsent the three possible gallery levels that can be viewed.</p><p>The final piece of the puzzle is something to handle our application routes for client-side URL fragments. We also need something that can correctly connect these to both actions and events. Backbone.Controller helps us achieve this and for our gallery app we’re simply going to define a <strong>Gallery</strong> controller for our routing.</p><h3><strong>Data Structure</strong></h3><p>The JSON data-structure behind our application needs to be able to support the concept of albums, sub-albums and photos. In addition, we’ll be adding the requirement that each album needs to have it’s own folder thumbnail and each photo in a sub-album needs to have it’s own thumbnail as well. We’ll also need the flexibility to include as much (or as little) meta-data around our images as we need.</p><div><div id="highlighter_514583" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript plain">[</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;</code><code class="javascript comments">//this is an album with additional meta-data</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;</code><code class="javascript plain">{</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"title"</code><code class="javascript plain">: </code><code class="javascript string">"Album title"</code><code class="javascript plain">,</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"artist"</code><code class="javascript plain">: </code><code class="javascript string">"Album artists"</code><code class="javascript plain">,</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"image"</code><code class="javascript plain">: </code><code class="javascript string">"images/1.jpg"</code><code class="javascript plain">,</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"years"</code><code class="javascript plain">: </code><code class="javascript string">"Album date/year"</code><code class="javascript plain">,</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"pid"</code> <code class="javascript plain">: 0,</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"url"</code><code class="javascript plain">: </code><code class="javascript string">"additional meta-data"</code><code class="javascript plain">,</code></div><div class="line number10 index9 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">//this is a sub-album with it's own data</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"subalbum"</code><code class="javascript plain">: [</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">//this is a photo in a sub-album</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">{</code></div><div class="line number14 index13 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"title"</code><code class="javascript plain">: </code><code class="javascript string">"photo title"</code><code class="javascript plain">,</code></div><div class="line number15 index14 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"artist"</code><code class="javascript plain">: </code><code class="javascript string">"photo artist"</code><code class="javascript plain">,</code></div><div class="line number16 index15 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"image"</code><code class="javascript plain">: </code><code class="javascript string">"images/michael_small.jpg"</code><code class="javascript plain">,</code></div><div class="line number17 index16 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"large_image"</code><code class="javascript plain">: </code><code class="javascript string">"images/michael_large.jpg"</code><code class="javascript plain">,</code></div><div class="line number18 index17 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"price"</code><code class="javascript plain">: 13,</code></div><div class="line number19 index18 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"pid"</code><code class="javascript plain">: 0,</code></div><div class="line number20 index19 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"url"</code><code class="javascript plain">: </code><code class="javascript string">"additional url meta-data"</code></div><div class="line number21 index20 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number22 index21 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">]</code></div><div class="line number23 index22 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number24 index23 alt1"><code class="javascript plain">]</code></div></div></td></tr></tbody></table></div></div><h3><strong>jQuery Templating Structure</strong></h3><p>&nbsp;</p><p><strong>Application Index (Album view)</strong></p><p style="text-align: center;"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/screenshot11.jpg" alt=""></p><div><div id="highlighter_983136" class="syntaxhighlighter notranslate html"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">id</code><code class="html plain">=</code><code class="html string">"indexTmpl"</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/x-jquery-tmpl"</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html plain">&lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item drop-shadow round"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-image"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">a</code> <code class="html color1">href</code><code class="html plain">=</code><code class="html string">"#subalbum/${cid}"</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">img</code> <code class="html color1">alt</code><code class="html plain">=</code><code class="html string">"${attributes.title}"</code> <code class="html color1">src</code><code class="html plain">=</code><code class="html string">"${attributes.image}"</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">a</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-artist"</code><code class="html plain">&gt;${attributes.artist}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-title"</code><code class="html plain">&gt;${attributes.title}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-years"</code><code class="html plain">&gt;${attributes.years}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html plain">&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div><p>&nbsp;</p><p><strong>Subalbum View</strong></p><p style="text-align: center;"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/screenshot41.jpg" alt=""></p><div><div id="highlighter_863298" class="syntaxhighlighter notranslate html"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">id</code><code class="html plain">=</code><code class="html string">"subindexTmpl"</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/x-jquery-tmpl"</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html plain">&lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item&nbsp; drop-shadow round"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-image subalbum"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">a</code> <code class="html color1">href</code><code class="html plain">=</code><code class="html string">"#subalbum/$%7Bsubalbum%7D/%0A%20$%7Battributes.pid%7D"</code><code class="html plain">&gt; &lt;</code><code class="html keyword">img</code> <code class="html color1">alt</code><code class="html plain">=</code><code class="html string">"${attributes.title}"</code> <code class="html color1">src</code><code class="html plain">=</code><code class="html string">"${attributes.image}"</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">a</code><code class="html plain">&gt; &lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-artist"</code><code class="html plain">&gt;${attributes.artist}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-title"</code><code class="html plain">&gt;${attributes.title}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-price"</code><code class="html plain">&gt;$${attributes.price}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html plain">&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div><pre class="prettyprint prettyprinted"><span class="pln">&nbsp;</span></pre><p><strong>Photo View</strong></p><p style="text-align: center;"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/screenshot21.jpg" alt=""></p><div><div id="highlighter_506522" class="syntaxhighlighter notranslate html"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="html plain">&lt;</code><code class="html keyword">script</code> <code class="html color1">id</code><code class="html plain">=</code><code class="html string">"itemTmpl"</code> <code class="html color1">type</code><code class="html plain">=</code><code class="html string">"text/x-jquery-tmpl"</code><code class="html plain">&gt;</code></div><div class="line number2 index1 alt1"><code class="html plain">&lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-detail"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-image drop-shadow round"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">img</code> <code class="html color1">alt</code><code class="html plain">=</code><code class="html string">"${attributes.title}"</code> <code class="html color1">src</code><code class="html plain">=</code><code class="html string">"${attributes.large_image}"</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-info"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-artist"</code><code class="html plain">&gt;${attributes.artist}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-title"</code><code class="html plain">&gt;${attributes.title}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-price"</code><code class="html plain">&gt;$${attributes.price}&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp;&nbsp;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"item-link"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">a</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"button"</code> <code class="html color1">href</code><code class="html plain">=</code><code class="html string">"${attributes.url}"</code><code class="html plain">&gt; Buy this item&lt;/</code><code class="html keyword">a</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&nbsp; &lt;</code><code class="html keyword">div</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"back-link"</code><code class="html plain">&gt;&lt;</code><code class="html keyword">a</code> <code class="html color1">class</code><code class="html plain">=</code><code class="html string">"button"</code> <code class="html color1">href</code><code class="html plain">=</code><code class="html string">"#"</code><code class="html plain">&gt;« Back to Albums&lt;/</code><code class="html keyword">a</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;&lt;/</code><code class="html keyword">div</code><code class="html plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="html plain">&lt;/</code><code class="html keyword">script</code><code class="html plain">&gt;</code></div></div></td></tr></tbody></table></div></div><h3><strong>Models, Views, Controllers &amp; Collections</strong></h3><p>&nbsp;</p><p>Here we create the model ‘Photo’ ; used to define individual image items. ‘subalbum’ returns a reference to the current subalbum being viewed via the gallery for use when accessing a Photo item through a hash URL We also define a new CacheProvider for use in our Controller later.</p><div><div id="highlighter_712036" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">cache = </code><code class="javascript keyword">new</code> <code class="javascript plain">CacheProvider;</code></div><div class="line number2 index1 alt1"><code class="javascript keyword">var</code> <code class="javascript plain">Photo = Backbone.Model.extend({</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">subalbum: </code><code class="javascript keyword">function</code><code class="javascript plain">() { </code><code class="javascript keyword">return</code> <code class="javascript string">'c'</code> <code class="javascript plain">+ gallery._currentsub; }</code></div><div class="line number4 index3 alt1"><code class="javascript plain">});</code></div></div></td></tr></tbody></table></div></div><p><strong> PhotoCollection: </strong> A collection of Photo items used in index, subalbum and photo views.</p><div><div id="highlighter_875705" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">PhotoCollection = Backbone.Collection.extend({</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">model: Photo,</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">comparator: </code><code class="javascript keyword">function</code><code class="javascript plain">(item) {</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript plain">item.get(</code><code class="javascript string">'pid'</code><code class="javascript plain">);</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number6 index5 alt1"><code class="javascript plain">});</code></div></div></td></tr></tbody></table></div></div><p>&nbsp;</p><p><strong>IndexView:</strong> The default view seen when opening up the application for the first time. This contains the first level of images in the JSON store (the level-one albums). Prior to rendering our jQuery templates here we remove any messages or elements displayed in the version where JavaScript is disabled.</p><div><div id="highlighter_101214" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">IndexView = Backbone.View.extend({</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">el: $(</code><code class="javascript string">'#main'</code><code class="javascript plain">),</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">indexTemplate: $(</code><code class="javascript string">"#indexTmpl"</code><code class="javascript plain">).template(),</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">render: </code><code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">//remove any graceful degradation views/notices</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">$(</code><code class="javascript string">'.jstest,'</code><code class="javascript plain">.gallery</code><code class="javascript string">').remove();</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">var sg = this;</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">this.el.fadeOut('</code><code class="javascript plain">fast</code><code class="javascript string">', function() {</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">sg.el.empty();</code></div><div class="line number10 index9 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">$.tmpl(sg.indexTemplate, sg.model.toArray())</code></div><div class="line number11 index10 alt2"><code class="javascript string">.appendTo(sg.el);</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">sg.el.fadeIn('</code><code class="javascript plain">fast');</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">});</code></div><div class="line number14 index13 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript keyword">this</code><code class="javascript plain">;</code></div><div class="line number15 index14 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number16 index15 alt1"><code class="javascript plain">});</code></div></div></td></tr></tbody></table></div></div><p><strong>SubalbumView:</strong> The view reached when clicking on a level-one album or browsing to a subalbum bookmark. This contains the images found in the ‘subalbum’ section of an album entry. Clicking on any of the images shown in a subalbum takes you to the PhotoView of that specific image.</p><div><div id="highlighter_85134" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">SubalbumView = Backbone.View.extend({</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">el: $(</code><code class="javascript string">'#main'</code><code class="javascript plain">),</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">indexTemplate: $(</code><code class="javascript string">"#subindexTmpl"</code><code class="javascript plain">).template(),</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">initialize: </code><code class="javascript keyword">function</code><code class="javascript plain">(options){</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">},</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">render: </code><code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">sg = </code><code class="javascript keyword">this</code><code class="javascript plain">;</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">.el.fadeOut(</code><code class="javascript string">'fast'</code><code class="javascript plain">, </code><code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">sg.el.empty();</code></div><div class="line number10 index9 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">$.tmpl(sg.indexTemplate,</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">sg.model.toArray())</code></div><div class="line number12 index11 alt1"><code class="javascript plain">.appendTo(sg.el);</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">sg.el.fadeIn(</code><code class="javascript string">'fast'</code><code class="javascript plain">);</code></div><div class="line number14 index13 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">});</code></div><div class="line number15 index14 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript keyword">this</code><code class="javascript plain">;</code></div><div class="line number16 index15 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number17 index16 alt2"><code class="javascript plain">});</code></div></div></td></tr></tbody></table></div></div><p>&nbsp;</p><p><strong>PhotoView:</strong> The single-photo view for a single image on the third-level of the application. This is reached either by clicking on an image at the second/subalbum level or browsing to a bookmarked photo in a subalbum.</p><div><div id="highlighter_899836" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">PhotoView = Backbone.View.extend({</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">el: $(</code><code class="javascript string">'#main'</code><code class="javascript plain">),</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">itemTemplate: $(</code><code class="javascript string">"#itemTmpl"</code><code class="javascript plain">).template(),</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">initialize: </code><code class="javascript keyword">function</code><code class="javascript plain">(options) {</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">.album = options.album;</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">},</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">render: </code><code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">sg = </code><code class="javascript keyword">this</code><code class="javascript plain">;</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">.el.fadeOut(</code><code class="javascript string">'fast'</code><code class="javascript plain">, </code><code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number10 index9 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">sg.el.empty();</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">$.tmpl(sg.itemTemplate, sg.model)</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">.appendTo(sg.el);</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">sg.el.fadeIn(</code><code class="javascript string">'fast'</code><code class="javascript plain">);</code></div><div class="line number14 index13 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">});</code></div><div class="line number15 index14 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript keyword">this</code><code class="javascript plain">;</code></div><div class="line number16 index15 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number17 index16 alt2"><code class="javascript plain">});</code></div></div></td></tr></tbody></table></div></div><p><strong>Gallery:</strong> The controller that defines our main application ‘gallery’. Here we handle how routes should be interpreted, the basic initialization of the application with data through an $.ajax call to fetch our JSON store and the creation of collections and views based on the models defined previously.</p><div><div id="highlighter_887092" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">Gallery = Backbone.Controller.extend({</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">_index: </code><code class="javascript keyword">null</code><code class="javascript plain">,</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">_photos: </code><code class="javascript keyword">null</code><code class="javascript plain">,</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">_album :</code><code class="javascript keyword">null</code><code class="javascript plain">,</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">_subalbums:</code><code class="javascript keyword">null</code><code class="javascript plain">,</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">_subphotos:</code><code class="javascript keyword">null</code><code class="javascript plain">,</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">_data:</code><code class="javascript keyword">null</code><code class="javascript plain">,</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">_photosview:</code><code class="javascript keyword">null</code><code class="javascript plain">,</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">_currentsub:</code><code class="javascript keyword">null</code><code class="javascript plain">,</code></div><div class="line number10 index9 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">routes: {</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">""</code><code class="javascript plain">: </code><code class="javascript string">"index"</code><code class="javascript plain">,</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"subalbum/:id"</code><code class="javascript plain">: </code><code class="javascript string">"subindex"</code><code class="javascript plain">,</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"subalbum/:id/"</code> <code class="javascript plain">: </code><code class="javascript string">"directphoto"</code><code class="javascript plain">,</code></div><div class="line number14 index13 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript string">"subalbum/:id/:num"</code> <code class="javascript plain">: </code><code class="javascript string">"hashphoto"</code></div><div class="line number15 index14 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">},</code></div><div class="line number16 index15 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">initialize: </code><code class="javascript keyword">function</code><code class="javascript plain">(options) {</code></div><div class="line number17 index16 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">ws = </code><code class="javascript keyword">this</code><code class="javascript plain">;</code></div><div class="line number18 index17 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">if</code> <code class="javascript plain">(</code><code class="javascript keyword">this</code><code class="javascript plain">._index === </code><code class="javascript keyword">null</code><code class="javascript plain">){</code></div><div class="line number19 index18 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">$.ajax({</code></div><div class="line number20 index19 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">url: </code><code class="javascript string">'data/album1.json'</code><code class="javascript plain">,</code></div><div class="line number21 index20 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">dataType: </code><code class="javascript string">'json'</code><code class="javascript plain">,</code></div><div class="line number22 index21 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">data: {},</code></div><div class="line number23 index22 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">success: </code><code class="javascript keyword">function</code><code class="javascript plain">(data) {</code></div><div class="line number24 index23 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">ws._data = data;</code></div><div class="line number25 index24 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">ws._photos =</code></div><div class="line number26 index25 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">new</code> <code class="javascript plain">PhotoCollection(data);</code></div><div class="line number27 index26 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">ws._index =</code></div><div class="line number28 index27 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">new</code> <code class="javascript plain">IndexView({model: ws._photos});</code></div><div class="line number29 index28 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">Backbone.history.loadUrl();</code></div><div class="line number30 index29 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number31 index30 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">});</code></div><div class="line number32 index31 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript keyword">this</code><code class="javascript plain">;</code></div><div class="line number33 index32 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number34 index33 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript keyword">this</code><code class="javascript plain">;</code></div><div class="line number35 index34 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">},</code></div><div class="line number36 index35 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">//Handle rendering the initial view for the</code></div><div class="line number37 index36 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">//application</code></div><div class="line number38 index37 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">index: </code><code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number39 index38 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._index.render();</code></div><div class="line number40 index39 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">},</code></div></div></td></tr></tbody></table></div></div><p>&nbsp;</p><p><strong>Gallery -&gt; hashsub:</strong> Handle URL routing for subalbums. As subalbums aren’t traversed in the default initialization of the app, here we create a new PhotoCollection for a particular subalbum based on indices passed through the UI. We then create a new SubalbumView instance, render the subalbums and set the current subphotos array to contain our subalbum Photo items. All of this is cached using the CacheProvider we defined earlier.</p><div><div id="highlighter_389400" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript plain">hashsub:</code><code class="javascript keyword">function</code><code class="javascript plain">(id){</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">properindex = id.replace(</code><code class="javascript string">'c'</code><code class="javascript plain">,</code><code class="javascript string">''</code><code class="javascript plain">);</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._currentsub = properindex;</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._subphotos = cache.get(</code><code class="javascript string">'pc'</code> <code class="javascript plain">+ properindex)</code></div><div class="line number5 index4 alt2"><code class="javascript plain">|| cache.set(</code><code class="javascript string">'pc'</code> <code class="javascript plain">+ properindex, </code><code class="javascript keyword">new</code> <code class="javascript plain">PhotoCollection(</code></div><div class="line number6 index5 alt1"><code class="javascript keyword">this</code><code class="javascript plain">._data[properindex].subalbum));</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._subalbums = cache.get(</code><code class="javascript string">'sv'</code> <code class="javascript plain">+ properindex)</code></div><div class="line number8 index7 alt1"><code class="javascript plain">|| cache.set(</code><code class="javascript string">'sv'</code> <code class="javascript plain">+ properindex, </code><code class="javascript keyword">new</code> <code class="javascript plain">SubalbumView(</code></div><div class="line number9 index8 alt2"><code class="javascript plain">{model: </code><code class="javascript keyword">this</code><code class="javascript plain">._subphotos}));</code></div><div class="line number10 index9 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._subalbums.render();</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">},</code></div></div></td></tr></tbody></table></div></div><p>&nbsp;</p><p><strong>Gallery -&gt; hashphoto:</strong> Handle routing for access to specific images within subalbums. This method checks to see if an existing subphotos object exists (ie. if we’ve already visited the subalbum before). If it doesn’t, we generate a new PhotoCollection and finally create a new PhotoView to display the image that was being queried for. As per hashsub, variable/data caching is employed here too.</p><div><div id="highlighter_928414" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript plain">hashphoto: </code><code class="javascript keyword">function</code><code class="javascript plain">(num, id){</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._currentsub = num;</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">num = num.replace(</code><code class="javascript string">'c'</code><code class="javascript plain">,</code><code class="javascript string">''</code><code class="javascript plain">);</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">if</code><code class="javascript plain">(</code><code class="javascript keyword">this</code><code class="javascript plain">._subphotos == undefined){</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._subphotos = cache.get(</code><code class="javascript string">'pc'</code> <code class="javascript plain">+ num) ||</code></div><div class="line number6 index5 alt1"><code class="javascript plain">cache.set(</code><code class="javascript string">'pc'</code> <code class="javascript plain">+ num, </code><code class="javascript keyword">new</code> <code class="javascript plain">PhotoCollection(</code></div><div class="line number7 index6 alt2"><code class="javascript keyword">this</code><code class="javascript plain">._data[num].subalbum));</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._subphotos.at(id)._view =</code></div><div class="line number10 index9 alt1"><code class="javascript keyword">new</code> <code class="javascript plain">PhotoView({model: </code><code class="javascript keyword">this</code><code class="javascript plain">._subphotos.at(id)});</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">this</code><code class="javascript plain">._subphotos.at(id)._view.render();</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div></div></td></tr></tbody></table></div></div><h2><strong>Script Loading &amp; Dependency Management</strong></h2><p>&nbsp;</p><p>How you structure your LABS.js chains can vary, but as a rule of thumb I like to order mine in a dependency hierarchy. Below is a loose version of this where we wait until jQuery has loaded before loading any additional scripts. We also wait on the last gallery.js dependency to finish loading before we load and execute our application (as per the LAB.js example earlier).</p><div><div id="highlighter_263004" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript plain">$LAB</code></div><div class="line number2 index1 alt1"><code class="javascript plain">.script(</code><code class="javascript string">"jquery.min.js"</code><code class="javascript plain">).wait()</code></div><div class="line number3 index2 alt2"><code class="javascript plain">.script(</code><code class="javascript string">"jquery.tmpl.min.js"</code><code class="javascript plain">)</code></div><div class="line number4 index3 alt1"><code class="javascript plain">.script(</code><code class="javascript string">"underscore-min.js"</code><code class="javascript plain">)</code></div><div class="line number5 index4 alt2"><code class="javascript plain">.script(</code><code class="javascript string">"backbone-min.js"</code><code class="javascript plain">)</code></div><div class="line number6 index5 alt1"><code class="javascript plain">.script(</code><code class="javascript string">"cacheprovider.js"</code><code class="javascript plain">).wait()</code></div><div class="line number7 index6 alt2"><code class="javascript plain">.script(</code><code class="javascript string">"gallery.js"</code><code class="javascript plain">);</code></div></div></td></tr></tbody></table></div></div><pre class="prettyprint prettyprinted"><span class="pln">&nbsp;</span></pre><h2><strong>Graceful Degradation For Users With JavaScript Disabled</strong></h2><p>&nbsp;</p><p style="text-align: center;"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/screenshot6.jpg" alt=""></p><p>When JavaScript is either unavailable or a bot’s attempting to crawl our app, we need to be able to provide a basic user-experience that still provides access to the content. In order to do this, I wrote a short PHP script which uses the same JSON gallery store as it’s data source. A snippet of this script can be seen below:</p><div><div id="highlighter_154221" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript comments">//expose convenient access to subalbums</code></div><div class="line number2 index1 alt1"><code class="javascript plain">foreach ($json_a as $p =&gt; $k){</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">foreach($k[</code><code class="javascript string">"subalbum"</code><code class="javascript plain">] as $sub){</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">$subalbums[$i][$j] = $sub;</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">$j++;</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">$i++;</code></div><div class="line number8 index7 alt1"><code class="javascript plain">}</code></div><div class="line number9 index8 alt2"><code class="javascript comments">//handle 'view' switching</code></div><div class="line number10 index9 alt1"><code class="javascript keyword">switch</code><code class="javascript plain">($folderType){</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">case</code> <code class="javascript string">"subalbum"</code><code class="javascript plain">:</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">echo </code><code class="javascript string">"&lt;ul class="</code><code class="javascript plain">gallery</code><code class="javascript string">"&gt;"</code><code class="javascript plain">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach($subalbums[$index] as $sub){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo </code><code class="javascript string">"&lt;li class="</code><code class="javascript plain">item drop-shadow round</code><code class="javascript string">"&gt;&lt;a large_image="</code><code class="javascript string">" href="</code><code class="javascript plain">"&nbsp; . $sub[</code><code class="javascript string">"&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;img image="</code><code class="javascript string">" src="</code><code class="javascript plain">" . $sub[</code><code class="javascript string">" alt="</code><code class="javascript string">"&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code> <code class="javascript plain">.&nbsp; $sub[</code><code class="javascript string">'title'</code><code class="javascript plain">]&nbsp; . </code><code class="javascript string">"&lt;/a&gt; "</code> <code class="javascript plain">. $sub[</code><code class="javascript string">'artist'</code><code class="javascript plain">] .</code><code class="javascript string">"&lt;/li&gt;"</code><code class="javascript plain">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo </code><code class="javascript string">"&lt;/ul&gt;"</code><code class="javascript plain">;</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">break</code><code class="javascript plain">;</code></div><div class="line number14 index13 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">default</code><code class="javascript plain">:</code></div><div class="line number15 index14 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">$ind = 0;</code></div><div class="line number16 index15 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">echo </code><code class="javascript string">"&lt;ul class="</code><code class="javascript plain">gallery</code><code class="javascript string">"&gt;"</code><code class="javascript plain">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; foreach($json_a as $p =&gt; $k){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo </code><code class="javascript string">"&lt;li class="</code><code class="javascript plain">item drop-shadow round</code><code class="javascript string">"&gt;&lt;a href="</code><code class="javascript plain">index.php?view=subalbum&amp;ind=$ind</code><code class="javascript string">"&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;img image="</code><code class="javascript string">" src="</code><code class="javascript plain">" . $k[</code><code class="javascript string">" alt="</code><code class="javascript string">"&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "</code> <code class="javascript plain">.&nbsp; $k[</code><code class="javascript string">'title'</code><code class="javascript plain">]&nbsp; . </code><code class="javascript string">"&lt;/a&gt; "</code> <code class="javascript plain">. $k[</code><code class="javascript string">'years'</code><code class="javascript plain">] .</code><code class="javascript string">"&lt;/li&gt;"</code><code class="javascript plain">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ind++;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo </code><code class="javascript string">"&lt;/ul&gt;"</code><code class="javascript plain">;</code></div><div class="line number17 index16 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">break</code><code class="javascript plain">;</code></div><div class="line number18 index17 alt1"><code class="javascript plain">}</code></div></div></td></tr></tbody></table></div></div><h2><strong>JSDoc Documentation</strong></h2><p>&nbsp;</p><p>Documentation tools are in no way specific to SPAs, but it’s always a good idea to document your code and provide your end-users with a readable form of documentation. JSDoc (The JSDoc Toolkit) is a useful tool for automatically generating multi-page HTML, XML or JSON documentation from comments in your JavaScript code.</p><p>It’s very straight-forward to use and can be run from the command-line or via a shell script once installed. I’ve commented gallery.js using JSDoc compatible syntax and you can see an example of how to format your comments for it below:</p><div><div id="highlighter_669441" class="syntaxhighlighter notranslate javascript"><div class="toolbar"><span><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript comments">/**</code></div><div class="line number2 index1 alt1"><code class="javascript comments">@description Get's an item based on it's ID</code></div><div class="line number3 index2 alt2"><code class="javascript comments">@param {Integer} itemId</code></div><div class="line number4 index3 alt1"><code class="javascript comments">@type Array</code></div><div class="line number5 index4 alt2"><code class="javascript comments">@returns {returnType} returnDescription</code></div><div class="line number6 index5 alt1"><code class="javascript comments">@author &lt;a href="mailto:test@gmail.com"&gt;Test Author&lt;/a&gt;</code></div><div class="line number7 index6 alt2"><code class="javascript comments">*/</code></div><div class="line number8 index7 alt1"><code class="javascript keyword">function</code> <code class="javascript plain">getItem(itemId) {</code></div><div class="line number9 index8 alt2"><code class="javascript plain">}</code></div></div></td></tr></tbody></table></div></div><p>If you’re interested in reading more about JSDoc, you can check out the official <a href="http://code.google.com/p/jsdoc-toolkit/">project homepage</a> or the <a href="http://code.google.com/p/jsdoc-toolkit/w/list">latest documentation</a>.</p><h2><strong>SPA Application Building Tips</strong></h2><p>&nbsp;</p><p>If you’re looking to begin building your own SPA with jQuery’s Best Friends, I highly recommend planning out your application structure in advance. For example, knowing the different ‘views’ you wish to offer users make writing both your data-structures, template code and finally your Backbone models and views significantly more straight-forward to write.</p><p>Altering your app at a later stage in the coding process isn’t difficult, but it can be time-consuming redefining data-structures, routing and templates then getting them to work in harmony again. That said, *as long* as you have some idea of your app structure in advance, you should be okay. I’ve always found SPAs quite fun to code and I’m sure if you haven’t tried them yet, you will too.</p><h2><strong>Downloads &amp; Source Code</strong></h2><p>&nbsp;</p><p>To check out a demo of today’s application, feel free to click on Demo. The sources for the tutorial can be found on GitHub and clicking ‘download’ will get you the latest build.</p><div style="width: 500px; text-align: center; margin-left: 40px;"><a href="http://addyosmani.com/resources/backbonegallery/index.php" style="margin-left: 30px; text-align: center; width: 140px; color: white; float: left;" class="large blue awesome tipper" target="_blank">View Demo</a> <a href="https://github.com/addyosmani/backbonejs-gallery/zipball/master" style="margin-left: 20px; text-align: center; width: 160px; color: white; float: left;" class="large blue awesome tipper" target="_blank">Download Sources</a></div><p>&nbsp;</p><p>&nbsp;</p><h2><strong>Conclusions</strong></h2><p>&nbsp;</p><p>We all know that jQuery makes it easy to write scripts and applications that interact with the DOM, but jQuery’s best friends give you the power to take that further, adding the ability to add structure to your application architecture, provide you with utilities so you don’t have to code them yourself and other benefits like client-side templating and lightweight scriptloading.</p><p>There’s absolutely no requirement that you have to use all of these tools together but I hope this post encourages you to try using them in your apps – they really can help you build better cleaner solutions. For more reading on MVC or building large scale applications with jQuery, feel free to check out my <a href="http://addyosmani.com/blog/large-scale-jquery/">post</a> on the topic.</p><p>And that’s it!. If you’ve found today’s tutorial helpful, please feel free to share it with your friends and colleagues by clicking on the <a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends" class="retweet">Building Single Page Applications With jQuery’s Best Friends</a> button below.</p><p>Thanks and good luck with your projects!</p><p>&nbsp;</p><p><strong>Update Feb 23 , 2001</strong></p><p>Rafael in the comments noticed that there was an issue where directly linking to the photo view without caching was causing the progressive enhancement fallbacks to render rather than being removed. This issue has been fixed on both github and the live demo so if you grab any of the sources from this page they will be up-to-date.</p><h2>References</h2><p>&nbsp;</p><p>[1] The Single-Page Application Manifesto <a href="http://itsnat.sourceforge.net/php/spim/spi_manifesto_en.php">http://itsnat.sourceforge.net/php/spim/spi_manifesto_en.php</a></p><p>[2] Building Apps With Backbone.js <a href="http://www.oneofthesedaysblog.com/backbone-js/">http://www.oneofthesedaysblog.com/backbone-js/</a></p><p>[3] The Backbone.js Store (recommended reading. my initial inspiration for writing about Backbone further) <a href="http://www.elfsternberg.com/2010/12/08/backbonejs-introducing-backbone-store/">http://www.elfsternberg.com/2010/12/08/backbonejs-introducing-backbone-store/</a></p><p>[4] Script loading with Lab.js and Require.js <a href="http://msdn.microsoft.com/en-us/scriptjunkie/ff943568">http://msdn.microsoft.com/en-us/scriptjunkie/ff943568</a></p><p>&nbsp;</p> <iframe src="./Building Single Page Applications With jQuery’s Best Friends_files/like.html" scrolling="no" frameborder="0" allowtransparency="true" style="border:none; overflow:hidden; width:450px;height:50px;margin-top:5px;"></iframe></div> <footer class="entry-meta"> <a href="./Building Single Page Applications With jQuery’s Best Friends_files/Building Single Page Applications With jQuery’s Best Friends.html" class="post-date">February 14, 2011</a><p><span class="cat-links"><span class="cat-links-title">Categories </span><a href="http://addyosmani.com/blog/category/web-development/" title="View all posts in Web Development" rel="category tag">Web Development</a></span> <span class="tag-links"><span class="tag-links-title">Tags </span><a href="http://addyosmani.com/blog/tag/backbonejs/" rel="tag">backbonejs</a>, <a href="http://addyosmani.com/blog/tag/jquery/" rel="tag">jquery</a>, <a href="http://addyosmani.com/blog/tag/jquery-templating/" rel="tag">jquery templating</a>, <a href="http://addyosmani.com/blog/tag/jquerys-best-friends/" rel="tag">jquerys best friends</a>, <a href="http://addyosmani.com/blog/tag/single-page-app/" rel="tag">single page app</a>, <a href="http://addyosmani.com/blog/tag/single-page-applications/" rel="tag">single page applications</a>, <a href="http://addyosmani.com/blog/tag/spa/" rel="tag">spa</a>, <a href="http://addyosmani.com/blog/tag/tmpl/" rel="tag">tmpl</a>, <a href="http://addyosmani.com/blog/tag/underscore/" rel="tag">underscore</a></span></p> </footer></div> </article><div id="comments"><h3 id="comments-title">109 Comments</h3><ol class="commentlist"><li class="post pingback"><p>Pingback: <a href="http://www.yrwh.net/?p=31" rel="external nofollow" class="url">开源中最好的Web开发的资源 « 时间的灰烬</a></p></li><li class="post pingback"><p>Pingback: <a href="http://blog.moocss.com/articles/front-end-resources/1575.html" rel="external nofollow" class="url">开源中最好的Web开发的资源 | blog.moocss.com</a></p></li><li class="post pingback"><p>Pingback: <a href="http://lianmeng.so/?p=6" rel="external nofollow" class="url">开源中最好的 Web 开发的资源（下） | 全球网赚联盟资源</a></p></li><li class="post pingback"><p>Pingback: <a href="http://eefree.tk/2011/06/778.html" rel="external nofollow" class="url">开源中最好的Web开发资源 | 免费资源站</a></p></li><li class="post pingback"><p>Pingback: <a href="http://adamlu.wordpress.com/2011/06/10/%e5%bc%80%e6%ba%90%e4%b8%ad%e6%9c%80%e5%a5%bd%e7%9a%84web%e5%bc%80%e5%8f%91%e7%9a%84%e8%b5%84%e6%ba%90-%e9%85%b7%e5%a3%b3-coolshell-cn/" rel="external nofollow" class="url">开源中最好的Web开发的资源 | 酷壳 – CoolShell.cn « Adamlu's Blog</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.islight.org/?p=43" rel="external nofollow" class="url">» 开源中最好的Web开发的资源 巴特农神殿</a></p></li><li class="post pingback"><p>Pingback: <a href="http://blog.boisgames.com/2011/06/best-opensources-to-build-new-web/" rel="external nofollow" class="url">Web开发中目前最好的开源资源 - 原木游戏 - 让游戏改变生活！</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.myczz.com/web.html" rel="external nofollow" class="url">开源中最好的Web开发学习的资源 | 萝卜草莓酱</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.5jiuai.com/article/2011/06/406.html" rel="external nofollow" class="url">最好的 Web 开发的开源资源_开源新闻_WO就.哎_个人博客</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.intsenz.com/242.html" rel="external nofollow" class="url">开源中最好的Web开发的资源 | 互联网观察（Intsenz）</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.dekile.com/web/web-resources/" rel="external nofollow" class="url">开源中最好最全的Web开发的资源 - 得奇乐 - 得奇乐:真正的可悲不是失败,而是连失败的机会也没有。</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.icewair.com/blog/the-best-resource-in-web-design" rel="external nofollow" class="url">开源中最好的Web开发的资源 – 木依雨心</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.dxiajke.com/js%e6%a1%86%e6%9e%b6-jquery/web-kaifa-ziyuan/" rel="external nofollow" class="url">开源中最好的Web开发的资源 | 刀侠剑客</a></p></li><li class="post pingback"><p>Pingback: <a href="http://ytdaigou.com/blog/?p=15" rel="external nofollow" class="url">开源中最好的Web开发的资源 « 日光之上</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.joltued.com/?p=259" rel="external nofollow" class="url">Best “must know” open sources to build the new Web | Jolt's Home</a></p></li><li class="post pingback"><p>Pingback: <a href="http://parazzi.me/2011/06/the-best-open-source-web-development-resources-reserved.html" rel="external nofollow" class="url">Bazzinga! Design » 开源中最好的Web开发的资源[转载]</a></p></li><li class="post pingback"><p>Pingback: <a href="http://albertomonteverdi.com/blog/2011/06/23/tools-for-jquery-application-architecture/" rel="external nofollow" class="url">JavaScript e MVC | Alberto Monteverdi</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.linstein.com/?p=6" rel="external nofollow" class="url">【转载from coolshell.cn】开源中最好的Web开发的资源 » linstein for ArthurNet Tech</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.cntojp.com/?p=28" rel="external nofollow" class="url">开源中最好的 Web 开发的资源 « 儒雅人生</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.pengmao.name/summary-of-the-necessary-resources-for-web-development.html" rel="external nofollow" class="url">Web开发必备资源汇总（精品） | 杜拉克草</a></p></li><li class="comment even thread-even depth-1" id="li-comment-8969"> <article id="comment-8969" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/2092def265ad3f5f5f4e6b3256458cca" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://quedarembarazada.com.mx/" rel="external nofollow" class="url">Quedar embarazada</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-8969"> July 15, 2011 at 1:44 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=8969#respond" onclick="return addComment.moveForm(&quot;comment-8969&quot;, &quot;8969&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Really good tutorial. Thank you.</p></div> </article></li><li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9045"> <article id="comment-9045" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/f03399717b6c3d4745709b13bb63fd96" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn">greg</cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-9045"> July 19, 2011 at 9:00 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=9045#respond" onclick="return addComment.moveForm(&quot;comment-9045&quot;, &quot;9045&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>hi, just downloaded and ran index.php – i get this error:<br> this._index is null<br> [Break On This Error] this._index.render();<br> gallery.js (line 173)<br> is something missing from the zip?<br> tyvm</p></div> </article></li><li class="comment even thread-even depth-1" id="li-comment-9262"> <article id="comment-9262" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/e5e9bf87bd1e2dccca69988633db56af" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://jeremywarren.org/" rel="external nofollow" class="url">jeremy</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-9262"> July 30, 2011 at 4:24 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=9262#respond" onclick="return addComment.moveForm(&quot;comment-9262&quot;, &quot;9262&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Wow! This is awesome!</p></div> </article></li><li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-9353"> <article id="comment-9353" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/ad516503a11cd5ca435acc9bb6523536" class="avatar avatar-40 photo avatar-default" height="40" width="40"><div class="comment-header"><cite class="fn">Joe</cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-9353"> August 11, 2011 at 8:04 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=9353#respond" onclick="return addComment.moveForm(&quot;comment-9353&quot;, &quot;9353&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Very helpful tutorial. Could you show a sample of putting each jQuery template in a seperate external file? Thanks!</p></div> </article><ul class="children"><li class="comment byuser comment-author-admin bypostauthor even depth-2" id="li-comment-9355"> <article id="comment-9355" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/96270e4c3e5e9806cf7245475c00b275" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://www.addyosmani.com/" rel="external nofollow" class="url">Addy</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-9355"> August 12, 2011 at 1:04 am</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=9355#respond" onclick="return addComment.moveForm(&quot;comment-9355&quot;, &quot;9355&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>There are quite a few useful posts on this topic that already exist, but here's a good intro from Dave Ward <a href="http://encosia.com/using-external-templates-with-jquery-templates/" rel="nofollow"></a><a href="http://encosia.com/using-external-templates-with-" rel="nofollow">http://encosia.com/using-external-templates-with-</a>…</p></div> </article></li></ul></li><li class="post pingback"><p>Pingback: <a href="http://blog.kooljoy.com/resources/javascript-resources" rel="external nofollow" class="url">Javascript Resources « Kooljoy.com Blog</a></p></li><li class="post pingback"><p>Pingback: <a href="http://www.ihujiao.com/blog/?p=6" rel="external nofollow" class="url">开源中最好的Web开发资源汇总 | 大学生活Lab</a></p></li><li class="comment odd alt thread-even depth-1" id="li-comment-9608"> <article id="comment-9608" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/c8828a8b5c426dda16f3d3b27ce0336b" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://georgeblumberg.hubpages.com/" rel="external nofollow" class="url">George Blumberg</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-9608"> August 30, 2011 at 4:56 am</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=9608#respond" onclick="return addComment.moveForm(&quot;comment-9608&quot;, &quot;9608&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Thank you for this post and the information made available. The demo has been interesting.  More building with jquery.</p></div> </article></li><li class="post pingback"><p>Pingback: <a href="http://www.lcsjs.com/?p=30" rel="external nofollow" class="url">开源中最好的Web开发的资源 | 前端开发博客</a></p></li><li class="comment even thread-odd thread-alt depth-1" id="li-comment-11956"> <article id="comment-11956" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/537b7491fb38adb4b2f66150da61afbc" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn">Michel Rutzor</cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-11956"> December 12, 2011 at 5:05 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=11956#respond" onclick="return addComment.moveForm(&quot;comment-11956&quot;, &quot;11956&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Very helpful tutorial. Could you show a sample of putting each jQuery template in a seperate external file? I found a tutorial explaining how to &lt;a href="<a href="http://blastreviews.com/get-far-cry-3.php%22%3Eget" rel="nofollow">http://blastreviews.com/get-far-cry-3.php"&gt;get</a> far cry 3&lt;/a&gt; and I was wondering if you know how to do it in jQuery?<br> Thanks!<br> Michel</p></div> </article><ul class="children"><li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-11959"> <article id="comment-11959" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/96270e4c3e5e9806cf7245475c00b275" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn">Addy</cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-11959"> December 12, 2011 at 5:44 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=11959#respond" onclick="return addComment.moveForm(&quot;comment-11959&quot;, &quot;11959&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>If you take a look at some of the recent Backbone + Require.js examples up on my GitHub account or on TodoMVC (also on that account) you’ll find examples that cover loading templates in from external files using script loaders. Here’s the account: <a href="http://github.com/addyosmani" rel="nofollow">http://github.com/addyosmani</a>.</p></div> </article></li></ul></li><li class="post pingback"><p>Pingback: <a href="http://www.urla.cn/html/888.html" rel="external nofollow" class="url">开源中最好的Web开发资源汇总 | 互联第一站</a></p></li><li class="comment even thread-even depth-1" id="li-comment-13514"> <article id="comment-13514" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/811136710f92a717992c9f59b4f09b58" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn">Mile High Celt</cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-13514"> January 27, 2012 at 9:45 am</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=13514#respond" onclick="return addComment.moveForm(&quot;comment-13514&quot;, &quot;13514&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Thanks for the great tutorial.  I am a traditionally server side developer learning more about client side technologies.  I have recently been looking for Backbone/JQuery examples and I thought I saw where JQuery templates are going to be replaced with JViews?  If so, would your example work with something like Underscore.js which is a Backbone dependency anyway?</p></div> </article></li><li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-13848"> <article id="comment-13848" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/e657df7fd22fb107a90cc12ad0a848b9" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://www.whatever1234.com/" rel="external nofollow" class="url">Cory Probus</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-13848"> February 8, 2012 at 4:43 am</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=13848#respond" onclick="return addComment.moveForm(&quot;comment-13848&quot;, &quot;13848&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>great post keep it up cant find posts like this anymore.</p></div> </article></li><li class="comment even thread-even depth-1" id="li-comment-14166"> <article id="comment-14166" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/d906714a865cd2d2440704cdb2378cee" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn">arf</cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-14166"> February 21, 2012 at 1:35 am</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=14166#respond" onclick="return addComment.moveForm(&quot;comment-14166&quot;, &quot;14166&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>something interesting is how could this code use local storage without permission in subalbum and photo view index??</p></div> </article></li><li class="post pingback"><p>Pingback: <a href="http://www.css3home.com/%e5%bc%80%e6%ba%90%e4%b8%ad%e6%9c%80%e5%a5%bd%e7%9a%84web%e5%bc%80%e5%8f%91%e7%9a%84%e8%b5%84%e6%ba%90/" rel="external nofollow" class="url">开源中最好的Web开发的资源 |</a></p></li><li class="post pingback"><p>Pingback: <a href="http://iwuhou.net/2011/10/open/" rel="external nofollow" class="url">最好的Web开发的开源资源 | 午•後</a></p></li><li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-15793"> <article id="comment-15793" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/fba6d6d89dedfe50bc96b57a0c0c4a71" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://www.mymobitricks.com/" rel="external nofollow" class="url">Sagor</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-15793"> April 27, 2012 at 10:22 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=15793#respond" onclick="return addComment.moveForm(&quot;comment-15793&quot;, &quot;15793&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Thank you for this post and the information made available. The demo has been interesting. More building with jquery.</p></div> </article></li><li class="post pingback"><p>Pingback: <a href="http://www.wujunwei.net/archives/310" rel="external nofollow" class="url">开源中最好的Web开发的资源 | 52 b/s</a></p></li><li class="post pingback"><p>Pingback: <a href="http://cloverink.net/websocket-api-to-replace-rest-api/" rel="external nofollow" class="url">websocket api to replace rest api? | Everyday I'm coding</a></p></li><li class="post pingback"><p>Pingback: <a href="http://blog.dbshop.net/%e5%bc%80%e6%ba%90%e4%b8%ad%e6%9c%80%e5%a5%bd%e7%9a%84web%e5%bc%80%e5%8f%91%e7%9a%84%e8%b5%84%e6%ba%90%ef%bc%88%e8%bd%ac%e8%b4%b4%ef%bc%89/" rel="external nofollow" class="url">开源中最好的Web开发的资源（转贴） | DBShop博客</a></p></li><li class="comment even thread-even depth-1" id="li-comment-27796"> <article id="comment-27796" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/d7ac21323ee2bdc7ab4db01dd473b9a9" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://encrelaser.com/" rel="external nofollow" class="url">Nicolas Gigi</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-27796"> May 3, 2013 at 12:06 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=27796#respond" onclick="return addComment.moveForm(&quot;comment-27796&quot;, &quot;27796&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Another really useful, fun, and well-made post by you M. Osmani ! Love and light !!!</p></div> </article></li><li class="post pingback"><p>Pingback: <a href="http://www.chawenti.com/articles/15310.html" rel="external nofollow" class="url">JavaScript 移动和触摸框架 | 查问题</a></p></li><li class="post pingback"><p>Pingback: <a href="http://hduzn.eu.ki/wp/?p=12" rel="external nofollow" class="url">Hello, World! » 开源中最好的Web开发的资源</a></p></li><li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-32121"> <article id="comment-32121" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/9b389692a81595002747d2503ee26548" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://technorati.com/people/Alethea27D/" rel="external nofollow" class="url">ilazienki24.pl</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-32121"> September 14, 2013 at 6:11 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=32121#respond" onclick="return addComment.moveForm(&quot;comment-32121&quot;, &quot;32121&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>It’s a shame you don’t have a donate button!<br> I’d definitely donate to this fantastic blog! I suppose for<br> now i’ll settle for bookmarking and adding your RSS feed to my Google<br> account. I look forward to brand new updates and will talk about this website with my<br> Facebook group. Chat soon!</p></div> </article></li><li class="comment even thread-even depth-1" id="li-comment-38135"> <article id="comment-38135" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/e97dfd123a2c3e7b47b958406b5b79b0" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://www.youtube.com/watch?v=AmGmfJVxyMM" rel="external nofollow" class="url">youtube.com</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-38135"> January 28, 2014 at 9:09 am</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=38135#respond" onclick="return addComment.moveForm(&quot;comment-38135&quot;, &quot;38135&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Do you mind if I quote a feww of your articles as long as I provide credit and ssources<br> back to your site? My blog is in the very same niche as yours and<br> mmy users would certainly benefit from a lot of the information you provide here.<br> Please let me know if this okay with you. Thanks a<br> lot!</p></div> </article></li><li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-39243"> <article id="comment-39243" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/7d8c0a10a33b146d64aff03e700b6d26" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://laverndpon.soup.io/" rel="external nofollow" class="url">cosmetics online shopping europe</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-39243"> March 28, 2014 at 4:22 am</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=39243#respond" onclick="return addComment.moveForm(&quot;comment-39243&quot;, &quot;39243&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Hey! I’m at work surfing around your blog from my new iphone 4!<br> Just wanted to say I love reading through your blog and look forward to all your posts!<br> Keep up the outstanding work!</p></div> </article></li><li class="comment even thread-even depth-1" id="li-comment-39389"> <article id="comment-39389" class="comment"> <img alt="" src="./Building Single Page Applications With jQuery’s Best Friends_files/b507e7515e361d9ac8850eede3c76e51" class="avatar avatar-40 photo" height="40" width="40"><div class="comment-header"><cite class="fn"><a href="http://www.wellness.com/" rel="external nofollow" class="url">Carolina</a></cite> <a class="comment-time" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-2/#comment-39389"> March 31, 2014 at 8:10 pm</a> <a class="comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/?replytocom=39389#respond" onclick="return addComment.moveForm(&quot;comment-39389&quot;, &quot;39389&quot;, &quot;respond&quot;, &quot;2590&quot;)">Reply</a></div><div class="comment-content"><p>Great post. Backbone.js is new to me, just stepping out from design only to some programming and knowing about all these new platforms/technologies will help me create new great stuff for clients.</p></div> </article></li></ol> <nav id="comment-nav-below"><div class="nav-next"></div><div class="nav-previous"><a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/comment-page-1/#comments">← Older Comments</a></div> </nav><div id="respond" class="comment-respond"><h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#respond" style="display:none;">Cancel reply</a></small></h3><form action="http://addyosmani.com/blog/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes">Required fields are marked <span class="required">*</span>.</p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required="true"></p><p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required="true"></p><p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30"></p><p class="comment-form-comment"><label for="comment">Message <span class="required">*</span></label><br><textarea id="comment" name="comment" rows="8"></textarea></p><p class="form-submit"> <input name="submit" type="submit" id="submit" value="Send"> <input type="hidden" name="comment_post_ID" value="2590" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"></p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="d7c6ba02db"></p><p style="display: none;"></p><input type="hidden" id="ak_js" name="ak_js" value="1428241847659"></form></div></div> <nav id="nav-below"><div class="nav-next"><a href="http://addyosmani.com/blog/digging-into-deferreds-1/" rel="next">Next Post →</a></div><div class="nav-previous"><a href="http://addyosmani.com/blog/bookcorner-smashingjquery/" rel="prev">←  Previous Post</a></div> </nav></div><div id="secondary" class="widget-area" role="complementary"><div id="widget-others"> <aside id="text-5" class="widget widget_text"><div class="textwidget">I'm an engineer at Google working with the Chrome team on developer tooling.</div> </aside><aside id="text-4" class="widget widget_text"><h3 class="widget-title">What would you like to do?</h3><div class="textwidget"><ul class="ui-right-bar"><li> <iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Building Single Page Applications With jQuery’s Best Friends_files/follow_button.08f0c3c199f04970eb80d854774cbb2e.en.html" class="twitter-follow-button twitter-follow-button" title="Twitter Follow Button" data-twttr-rendered="true" style="width: 238px; height: 20px;"></iframe></li><li><img src="./Building Single Page Applications With jQuery’s Best Friends_files/004.png"> <a href="http://addyosmani.wufoo.com/forms/how-can-i-help/">Drop me a message</a></li><li><img src="./Building Single Page Applications With jQuery’s Best Friends_files/kblogger.png"> <a href="http://addyosmani.wufoo.com/forms/public-speaking/">Ask about public speaking</a></li><li><img src="./Building Single Page Applications With jQuery’s Best Friends_files/001.png"> <a href="http://feeds.feedburner.com/addyosmani">Subscribe to RSS feed</a></li><li><img src="./Building Single Page Applications With jQuery’s Best Friends_files/plus.png"> <a href="https://plus.google.com/115133653231679625609/posts">Read my posts on Google+</a></li><li><img src="./Building Single Page Applications With jQuery’s Best Friends_files/github.png"> <a href="http://github.com/addyosmani">Follow my projects on GitHub</a></li><li><img src="./Building Single Page Applications With jQuery’s Best Friends_files/lanyrd.png"> <a href="http://lanyrd.com/profile/addyosmani">Speaking on Lanyrd</a></li></ul></div> </aside><aside id="text-3" class="widget widget_text"><h3 class="widget-title">Support The Site With A Click</h3><div class="textwidget"><div class="box box-verts"><div class="sideco"> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/adpacks.js" id="_adpacks_js"></script><div class="bsap"><div class="bsa_it one"><div class="bsa_it_ad"><a href="http://www.launchbit.com/taz/9533-5945-111/" target="_blank"><span class="bsa_it_i"><img src="./Building Single Page Applications With jQuery’s Best Friends_files/5945-5939-5762-17837.gif" width="130" height="100" alt=""></span></a><a href="http://www.launchbit.com/taz/9533-5945-111/" target="_blank"><span class="bsa_it_d">Advertising is hard. We do it all day. Let us teach you what we've learned.</span></a><div style="clear:both"></div></div><span class="bsa_it_p"><a href="http://carbonads.net/" target="_blank">ads via Carbon</a></span></div><img src="./Building Single Page Applications With jQuery’s Best Friends_files/saved_resource(1)" border="0" height="1" width="1" style="display: none;"></div> <div></div><style type="text/css">.one .bsa_it_ad .bsa_it_t { color: #fff;}
.one .bsa_it_ad .bsa_it_d { color: #ccc;}
.one .bsa_it_p a { color: #666;}
.one .bsa_it_p { display: none; }
.one .bsa_it_ad { background: #666}</style></div> </div></div></aside> <aside id="recent-posts-4" class="widget widget_recent_entries"><h3 class="widget-title">Read A Recent Article</h3><ul><li> <a href="http://addyosmani.com/blog/chrome-devtools-state-of-the-union-2015/">Chrome DevTools: State Of The Union 2015</a></li><li> <a href="http://addyosmani.com/blog/architecture-on-the-road-to-2015/">JavaScript Application Architecture On The Road To 2015</a></li><li> <a href="http://addyosmani.com/blog/video-advanced-css-performance-tooling/">Video: Advanced CSS Performance Tooling</a></li><li> <a href="http://addyosmani.com/blog/199-slides-on-front-end-tooling-workflows/">~199 slides on Front-end Tooling Workflows</a></li><li> <a href="http://addyosmani.com/blog/fixmyjs/">Explorations In Automatically Fixing JavaScript Linting-errors</a></li></ul> </aside><aside id="linkcat-980" class="widget widget_links"><h3 class="widget-title">My Free Books &amp; Guides</h3><ul class="xoxo blogroll"><li><a href="http://github.com/addyosmani/backbone-fundamentals">Developing Backbone.js Applications</a></li><li><a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/">Learning JavaScript Design Patterns</a></li><li><a href="http://addyosmani.com/largescalejavascript">Patterns For Large-Scale JavaScript Development</a></li><li><a href="http://addyosmani.com/writing-modular-js">Writing Modular JavaScript With AMD, CJS &amp; Harmony</a></li></ul> </aside> <aside id="linkcat-1023" class="widget widget_links"><h3 class="widget-title">Purchase Books</h3><ul class="xoxo blogroll"><li><a href="http://shop.oreilly.com/product/0636920025344.do">Developing Backbone.js Applications (O'Reilly)</a></li><li><a href="http://shop.oreilly.com/product/0636920025832.do">Learning JavaScript Design Patterns (O'Reilly)</a></li></ul> </aside> <aside id="linkcat-979" class="widget widget_links"><h3 class="widget-title">Recent Presentations</h3><ul class="xoxo blogroll"><li><a href="https://speakerdeck.com/addyosmani/javascript-memory-management-masterclass">A Memory Management Masterclass</a></li><li><a href="https://speakerdeck.com/addyosmani/css-performance-tooling">Advanced CSS Performance Tooling</a></li><li><a href="https://speakerdeck.com/addyosmani/automating-front-end-workflow">Automating Front-end Workflow</a></li><li><a href="https://speakerdeck.com/addyosmani/decoupling-javascript-vs-the-world">Decoupling JavaScript</a></li><li><a href="https://speakerdeck.com/addyosmani/jquery-toronto-gone-in-60-frames-per-second">Gone In 60 Frames Per Second</a></li><li><a href="http://speakerdeck.com/u/addyosmani/p/large-scale-javascript-application-architecture">Large-scale JavaScript Application Architecture</a></li><li><a href="https://speakerdeck.com/addyosmani/mobile-workflow">Mobile Testing Workflow</a></li><li><a href="https://speakerdeck.com/addyosmani/velocityconf-rendering-performance-case-studies">Rendering Performance Case-studies</a></li><li><a href="https://speakerdeck.com/addyosmani/tooling-for-the-modern-webapp-developer">Toolbelt For The Modern WebApp Developer</a></li></ul> </aside> <aside id="linkcat-162" class="widget widget_links"><h3 class="widget-title">Recommended Reading</h3><ul class="xoxo blogroll"><li><a href="http://eloquentjavascript.net/">Eloquent JavaScript</a></li><li><a href="http://bonsaiden.github.com/JavaScript-Garden/">JavaScript Garden</a></li><li><a href="http://shop.oreilly.com/product/9780596806767.do">JavaScript Patterns</a></li><li><a href="http://shop.oreilly.com/product/9780596805531.do">JavaScript The Definitive Guide</a></li><li><a href="http://shop.oreilly.com/product/0636920025245.do">Maintainable JavaScript</a></li><li><a href="https://github.com/rwldrn/idiomatic.js" title="Principles of Writing Consistent, Idiomatic JavaScript">Principles Of Writing Idiomatic JavaScript</a></li></ul> </aside> <aside id="search-4" class="widget widget_search"><h3 class="widget-title">Search</h3><form method="get" id="searchform" action="http://addyosmani.com/blog"> <input type="text" class="field" name="s" id="s" placeholder="Search"> <input type="submit" class="submit" name="submit" id="searchsubmit" value="Search"></form></aside></div></div></div><div class="clear"></div><footer id="colophon"><div id="site-generator"><p>© AddyOsmani.com</p></div> <a href="http://addyosmani.com/blog/building-spas-jquerys-best-friends/#header" class="top-btn">Top</a> </footer></div><div id="footercontainer"><div id="footer"><div class="col1"><h3>About</h3><p><img class="footeravatar" style="margin:6px; margin-right:8px; margin-left:0px;float:left; width:60px;border:6px solid #fff;" src="./Building Single Page Applications With jQuery’s Best Friends_files/avatar-2014.jpeg">My name is Addy Osmani. I'm an engineer at Google working with the Chrome team to build tools to help improve developer productivity and satisfaction.</p><p>I've also written <a href="http://addyosmani.github.com/backbone-fundamentals">'Developing Backbone.js Applications'</a> and <a href="http://addyosmani.com/resources/essentialjsdesignpatterns/book/">'Learning JavaScript Design Patterns'</a>.</p></div><div class="col2"><h3>Fundamentals</h3><p><strong>First do it, then do it right, then do it better.</strong> This is one fundamental I always keep in mind when developing anything.</p><p>If you're a developer wishing to learn something new, regardless of skill-level, remember that as important as it is to read, it's equally as important to get out there and *do*.</p><p>Create a new <a href="http://gist.github.com/">gist</a> or <a href="http://jsbin.com/">JSBin</a>, pop open the <a href="http://code.google.com/chrome/devtools/docs/console.html">console</a> and experiment. It's effing fun.</p></div><div class="col3"><h3>Projects</h3><p></p><ul class="oss"><li><a href="http://polymer-project.org/">Polymer</a></li><li><a href="http://todomvc.com/">TodoMVC</a></li><li><a href="http://yeoman.io/">Yeoman</a></li><li><a href="https://github.com/google/web-starter-kit/">Google Web Starter Kit</a></li><li><a href="http://webcomponents.github.io/">WebComponents.org</a></li><li><a href="https://github.com/GoogleWebComponents">Google Web Components</a></li><li><a href="http://github.com/addyosmani/psi">PSI</a></li><li><a href="http://github.com/addyosmani/grunt-uncss">Grunt UnCSS</a></li><li><a href="http://github.com/addyosmani/critical">Critical</a></li><li><a href="http://github.com/umdjs">UMD</a></li><li><a href="http://github.com/addyosmani/basket.js">Basket</a></li></ul><p></p></div></div>  <script type="text/javascript">var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-10445040-2']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();</script><script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/jquery.min.js"></script><script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/plusone.js" gapi_processed="true"></script><script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/loader.js" async=""></script><script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/widgets.js"></script><script src="./Building Single Page Applications With jQuery’s Best Friends_files/widgets.js" type="text/javascript"></script><script type="text/javascript" defer="" src="./Building Single Page Applications With jQuery’s Best Friends_files/autoptimize_30ed98f2bcb1bc93c74f6eb75d2b7ca3.js"></script>
 <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/shCore.js"></script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/shLegacy.js"></script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/shAutoloader.js"></script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/shBrushBash.js"></script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/shBrushCss.js"></script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/shBrushJScript.js"></script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/shBrushXml.js"></script> <script type="text/javascript">//
	SyntaxHighlighter.autoloader(
	"bash shell	http://addyosmani.com/blog/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js?ver=3.0"
	,"css	http://addyosmani.com/blog/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCss.js?ver=3.0"
	,"js jscript javascript	http://addyosmani.com/blog/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0"
	,"xml xhtml xslt html	http://addyosmani.com/blog/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0"
	);
	SyntaxHighlighter.defaults['auto-links'] = true;
	SyntaxHighlighter.defaults['quick-code'] = true;
	SyntaxHighlighter.defaults['title'] = '';
	SyntaxHighlighter.defaults['class-name'] = 'notranslate';
	SyntaxHighlighter.defaults['collapse'] = false;
	SyntaxHighlighter.defaults['first-line'] = 1;
	SyntaxHighlighter.defaults['gutter'] = true;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['smart-tabs'] = true;
	SyntaxHighlighter.defaults['tab-size'] = 4;
	SyntaxHighlighter.defaults['toolbar'] = true;
 SyntaxHighlighter.config.stripBrs = true;
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = "Can't find brush for: ";
	SyntaxHighlighter.config.strings.brushNotHtmlScript = "Brush wasn't configured for html-script option: ";
	SyntaxHighlighter.all();
	dp.SyntaxHighlighter.HighlightAll('code')
//</script>  <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/form.js"></script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/comment-reply.min.js"></script> <script type="text/javascript">/*  */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/addyosmani.com\/blog\/wp-admin\/admin-ajax.php","post_id":"2590"};
/*  */</script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/postviews-cache.js"></script> <script type="text/javascript" src="./Building Single Page Applications With jQuery’s Best Friends_files/markdown.min.js"></script> <script src="./Building Single Page Applications With jQuery’s Best Friends_files/e-201514.js" type="text/javascript"></script> <script type="text/javascript">st_go({blog:'9541132',v:'ext',post:'2590'});
var load_cmc = function(){linktracker_init(9541132,2590,2);};
if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
else load_cmc();</script> <script async="" defer="">function loadCSS(e,t,n){"use strict";var i=window.document.createElement("link");var o=t||window.document.getElementsByTagName("script")[0];i.rel="stylesheet";i.href=e;i.media="only x";o.parentNode.insertBefore(i,o);setTimeout(function(){i.media=n||"all"})}
loadCSS('http://addyosmani.com/blog/wp-content/cache/autoptimize/css/autoptimize_e9ddd0efe338ebaa746338d359ca2d86.css');</script> 
<!-- Dynamic page generated in 0.802 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2015-04-03 18:45:51 -->

<!-- super cache --></div><img src="./Building Single Page Applications With jQuery’s Best Friends_files/g.gif" id="wpstats"></body></html>